# Deployment Guide - Skincare Shop Backend

This guide will walk you through deploying your Flask application to Render and connecting it to your GitHub repository.

## Prerequisites

- [ ] GitHub account
- [ ] Render account (free tier available)
- [ ] Your Flask project ready for deployment

## Step 1: Prepare Your Local Repository

### 1.1 Initialize Git (if not already done)
```bash
cd skincare-backend
git init
git add .
git commit -m "Initial commit for deployment"
```

### 1.2 Create GitHub Repository
1. Go to [GitHub](https://github.com) and sign in
2. Click the "+" icon in the top right and select "New repository"
3. Name your repository (e.g., `skincare-shop-backend`)
4. Make it public or private (your choice)
5. **Don't** initialize with README, .gitignore, or license (we already have these)
6. Click "Create repository"

### 1.3 Push to GitHub
```bash
git remote add origin https://github.com/YOUR_USERNAME/skincare-shop-backend.git
git branch -M main
git push -u origin main
```

## Step 2: Deploy on Render

### 2.1 Create Render Account
1. Go to [Render](https://render.com) and sign up
2. You can sign up with your GitHub account for easier integration

### 2.2 Deploy Using Blueprint
1. In your Render dashboard, click "New +"
2. Select "Blueprint"
3. Connect your GitHub account if not already connected
4. Select your `skincare-shop-backend` repository
5. Render will automatically detect the `render.yaml` file
6. Click "Apply" to start the deployment

### 2.3 What Render Will Create
- **Web Service**: Your Flask application
- **MySQL Database**: For your data
- **Environment Variables**: Automatically configured

## Step 3: Monitor Deployment

### 3.1 Check Build Logs
1. Go to your web service in Render dashboard
2. Click on the service name
3. Check the "Logs" tab for any build errors

### 3.2 Verify Database Setup
1. Check the build logs for database setup messages
2. Look for "âœ… Database schema setup completed!" message

## Step 4: Test Your Application

### 4.1 Access Your App
- Your app will be available at: `https://your-app-name.onrender.com`
- The URL will be shown in your Render dashboard

### 4.2 Test Features
1. **Registration**: Create a new user account
2. **Login**: Sign in with your credentials
3. **Product Management**: Add, edit, delete products
4. **Search**: Test search functionality
5. **File Upload**: Test image uploads

## Step 5: Troubleshooting

### Common Issues

#### 1. Build Fails
- Check if all dependencies are in `requirements.txt`
- Verify Python version compatibility
- Check build logs for specific error messages

#### 2. Database Connection Issues
- Verify environment variables are set correctly
- Check if MySQL service is running
- Ensure database schema is properly set up

#### 3. File Upload Issues
- Check if `static/uploads` directory exists
- Verify file permissions
- Check file size limits

### Debug Commands
```bash
# Check environment variables
echo $DB_HOST
echo $DB_NAME

# Test database connection
python deploy_setup.py

# Check application logs
# (View in Render dashboard)
```

## Step 6: Post-Deployment

### 6.1 Set Up Monitoring
- Enable Render's built-in monitoring
- Set up alerts for downtime
- Monitor resource usage

### 6.2 Backup Strategy
- Render provides automatic database backups
- Consider setting up additional backups
- Export data regularly

### 6.3 Scaling (Future)
- Upgrade to paid plan for better performance
- Add more resources as needed
- Consider CDN for static files

## Environment Variables

Your application uses these environment variables (automatically set by Render):

| Variable | Description | Source |
|----------|-------------|---------|
| `DB_HOST` | MySQL host | Render MySQL service |
| `DB_NAME` | Database name | Render MySQL service |
| `DB_USER` | Database user | Render MySQL service |
| `DB_PASSWORD` | Database password | Render MySQL service |
| `SECRET_KEY` | Flask secret key | Auto-generated by Render |

## File Structure After Deployment

```
skincare-backend/
â”œâ”€â”€ app.py                 # Main Flask application
â”œâ”€â”€ requirements.txt       # Python dependencies
â”œâ”€â”€ render.yaml           # Render configuration
â”œâ”€â”€ deploy_setup.py       # Database setup script
â”œâ”€â”€ skincareshop.sql      # Database schema
â”œâ”€â”€ .env.example          # Environment variables template
â”œâ”€â”€ .gitignore            # Git ignore rules
â”œâ”€â”€ README.md             # Project documentation
â”œâ”€â”€ DEPLOYMENT.md         # This deployment guide
â”œâ”€â”€ templates/            # HTML templates
â””â”€â”€ static/               # Static files
    â””â”€â”€ uploads/          # Uploaded files
```

## Support

If you encounter issues:

1. **Check Render Documentation**: [Render Docs](https://render.com/docs)
2. **Review Build Logs**: Look for specific error messages
3. **Test Locally**: Ensure app works locally first
4. **Check Environment Variables**: Verify all are set correctly

## Next Steps

After successful deployment:

1. **Custom Domain**: Set up a custom domain if needed
2. **SSL Certificate**: Render provides automatic SSL
3. **Performance Optimization**: Monitor and optimize as needed
4. **Backup Strategy**: Set up regular data backups
5. **Monitoring**: Enable application monitoring

---

**ðŸŽ‰ Congratulations!** Your Flask application is now deployed and accessible online! 